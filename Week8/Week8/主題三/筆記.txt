https://www.explainthis.io/zh-hant/interview-guides/browser/what-is-cors#%E5%BE%9E%E5%90%8C%E6%BA%90%E6%94%BF%E7%AD%96%E9%96%8B%E5%A7%8B%E8%AB%87%E8%B5%B7

在了解為什麼會有 CORS 之前，我們需要先了解瀏覽器的同源政策 (same origin policy)。
瀏覽器有一些安全策略，確保資訊傳輸的安全性，同源政策即是其中一種安全相關的規範，它限制網頁只能存取同源的資源。

同源必須符合以下三者條件：
同通訊協定（protocol）https
同網域名稱（domain）www.google.com
同通訊埠（port）https是443 http是80

這個阻擋機制是最後瀏覽器收到回應才會發生，所以就算非同源，還是可以發送要求，如果伺服器沒有擋住，傳送回來時，瀏覽器會收到回應，被發現不同源才會擋住。

---------------------------------------------------

CORS就像一個圖書館系統，可以設定門口有會員證(信任的瀏覽器)，才能進來，不是隨便一個人(瀏覽器)都能進來，這樣才能保護整個圖書館(伺服器)的安全，這個系統還可以設定借書的流程（請求的方法）。

還可以設定哪些書（允許的方法、頭訊息）是可以被借的，像是圖書館內的會員資料就不能被借出去，只能放在圖書館內

CORS又分為簡單請求和預檢請求

簡單請求
只有當符合某些條件下的請求 (例如使用 GET、HEAD、POST 的方法) 時會是簡單請求(Simple requests)。

預檢請求(預檢請求，等於是多一層過濾，當預檢請求通過了，才會對伺服器發送真正的請求。避免被發送delete請求)
只要不符合簡單請求的條件，瀏覽器會先做一次 HTTP 請求，稱之為預檢請求(preflight)，預檢請求的方法是 OPTIONS
一旦預檢請求成功完成，真正的請求才會被送出。

